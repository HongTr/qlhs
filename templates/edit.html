{% extends 'layout.html' %}
{% block title %}S·ª≠a th√¥ng tin h·ªçc sinh{% endblock %}

{% block content %}
<div class="edit-form">
    <h2>
        <i>‚úèÔ∏è</i>
        S·ª≠a th√¥ng tin h·ªçc sinh
    </h2>

    <form method="POST" class="student-form">
        <div class="form-grid">
            <div class="form-section">
                <h3>Th√¥ng tin c∆° b·∫£n</h3>
                
                <div class="form-group">
                    <label for="name">H·ªç v√† t√™n <span class="required">*</span></label>
                    <input type="text" id="name" name="name" value="{{ student.name }}" required>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="gender">Gi·ªõi t√≠nh <span class="required">*</span></label>
                        <select id="gender" name="gender" required>
                            <option value="Nam" {% if student.gender == 'Nam' %}selected{% endif %}>Nam</option>
                            <option value="N·ªØ" {% if student.gender == 'N·ªØ' %}selected{% endif %}>N·ªØ</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="age">Tu·ªïi <span class="required">*</span></label>
                        <input type="number" id="age" name="age" value="{{ student.age }}" min="6" max="20" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="grade">L·ªõp <span class="required">*</span></label>
                        <select id="grade" name="grade" required>
                            {% for grade in grades %}
                            <option value="{{ grade }}" {% if student.grade|int == grade %}selected{% endif %}>
                                L·ªõp {{ grade }}
                            </option>
                            {% endfor %}
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="school">Tr∆∞·ªùng <span class="required">*</span></label>
                        <input type="text" id="school" name="school" value="{{ student.school }}" required>
                    </div>
                </div>

                <div class="form-group">
                    <label for="address">ƒê·ªãa ch·ªâ</label>
                    <input type="text" id="address" name="address" value="{{ student.address }}">
                </div>

                <div class="form-group">
                    <label for="phone">S·ªë ƒëi·ªán tho·∫°i</label>
                    <input type="tel" id="phone" name="phone" value="{{ student.phone }}" 
                           pattern="[0-9]{10}" title="Vui l√≤ng nh·∫≠p s·ªë ƒëi·ªán tho·∫°i 10 s·ªë">
                </div>
            </div>

            <div class="form-section">
                <h3>Th√¥ng tin ph·ª• huynh</h3>
                
                <div class="form-group">
                    <label for="father_name">H·ªç t√™n b·ªë</label>
                    <input type="text" id="father_name" name="father_name" value="{{ student.father_name }}">
                </div>

                <div class="form-group">
                    <label for="father_phone">S·ªë ƒëi·ªán tho·∫°i b·ªë</label>
                    <input type="tel" id="father_phone" name="father_phone" value="{{ student.father_phone }}"
                           pattern="[0-9]{10}" title="Vui l√≤ng nh·∫≠p s·ªë ƒëi·ªán tho·∫°i 10 s·ªë">
                </div>

                <div class="form-group">
                    <label for="mother_name">H·ªç t√™n m·∫π</label>
                    <input type="text" id="mother_name" name="mother_name" value="{{ student.mother_name }}">
                </div>

                <div class="form-group">
                    <label for="mother_phone">S·ªë ƒëi·ªán tho·∫°i m·∫π</label>
                    <input type="tel" id="mother_phone" name="mother_phone" value="{{ student.mother_phone }}"
                           pattern="[0-9]{10}" title="Vui l√≤ng nh·∫≠p s·ªë ƒëi·ªán tho·∫°i 10 s·ªë">
                </div>
            </div>
        </div>

        <div class="form-actions">
            <a href="{{ url_for('student_detail', id=student.id) }}" class="btn btn-back">
                <i>‚¨ÖÔ∏è</i>
                Quay l·∫°i
            </a>
            <button type="submit" class="btn btn-primary">
                <i>üíæ</i>
                L∆∞u thay ƒë·ªïi
            </button>
        </div>
    </form>
</div>

<style>
.edit-form {
    max-width: 800px;
    margin: 0 auto;
    padding: 24px;
    background: white;
    border-radius: 12px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.edit-form h2 {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 24px;
    color: #2c3e50;
    font-size: 24px;
}

.form-grid {
    display: grid;
    gap: 32px;
    margin-bottom: 32px;
}

@media (min-width: 768px) {
    .form-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

.form-section {
    display: flex;
    flex-direction: column;
    gap: 16px;
}

.form-section h3 {
    color: #4b5563;
    font-size: 18px;
    padding-bottom: 8px;
    border-bottom: 2px solid #f3f4f6;
}

.form-row {
    display: grid;
    gap: 16px;
    grid-template-columns: 1fr;
}

@media (min-width: 640px) {
    .form-row {
        grid-template-columns: repeat(2, 1fr);
    }
}

.form-group {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.form-group label {
    font-weight: 500;
    color: #4b5563;
    font-size: 14px;
}

.required {
    color: #dc2626;
    margin-left: 4px;
}

.form-group input,
.form-group select {
    padding: 10px 12px;
    border: 1px solid #e5e7eb;
    border-radius: 8px;
    font-size: 15px;
    transition: all 0.2s;
}

.form-group input:focus,
.form-group select:focus {
    outline: none;
    border-color: #4f46e5;
    box-shadow: 0 0 0 2px rgba(79, 70, 229, 0.1);
}

.form-actions {
    display: flex;
    justify-content: flex-end;
    gap: 12px;
    margin-top: 32px;
    padding-top: 20px;
    border-top: 1px solid #e5e7eb;
}

.btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    height: 44px;
    padding: 0 20px;
    border-radius: 8px;
    border: none;
    font-size: 15px;
    font-weight: 500;
    text-decoration: none;
    transition: all 0.2s;
    cursor: pointer;
    min-width: 120px;
}

.btn i {
    font-style: normal;
    font-size: 18px;
}

.btn-back {
    background-color: #6c757d;
    color: white;
}

.btn-back:hover {
    background-color: #5a6268;
    transform: translateY(-1px);
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.btn-primary {
    background-color: #4f46e5;
    color: white;
}

.btn-primary:hover {
    background-color: #4338ca;
    transform: translateY(-1px);
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}
</style>
{% endblock %} 