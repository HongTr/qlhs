{% extends 'layout.html' %}
{% block title %}Sửa thông tin học sinh{% endblock %}

{% block content %}
<div class="edit-form">
    <h2>
        <i>✏️</i>
        Sửa thông tin học sinh
    </h2>

    <form method="POST" class="student-form">
        <div class="form-grid">
            <div class="form-section">
                <h3>Thông tin cơ bản</h3>
                
                <div class="form-group">
                    <label for="name">Họ và tên <span class="required">*</span></label>
                    <input type="text" id="name" name="name" value="{{ student.name }}" required>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="gender">Giới tính <span class="required">*</span></label>
                        <select id="gender" name="gender" required>
                            <option value="Nam" {% if student.gender == 'Nam' %}selected{% endif %}>Nam</option>
                            <option value="Nữ" {% if student.gender == 'Nữ' %}selected{% endif %}>Nữ</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="age">Tuổi <span class="required">*</span></label>
                        <input type="number" id="age" name="age" value="{{ student.age }}" min="6" max="20" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="grade">Lớp <span class="required">*</span></label>
                        <select id="grade" name="grade" required>
                            {% for grade in grades %}
                            <option value="{{ grade }}" {% if student.grade|int == grade %}selected{% endif %}>
                                Lớp {{ grade }}
                            </option>
                            {% endfor %}
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="school">Trường <span class="required">*</span></label>
                        <input type="text" id="school" name="school" value="{{ student.school }}" required>
                    </div>
                </div>

                <div class="form-group">
                    <label for="address">Địa chỉ</label>
                    <input type="text" id="address" name="address" value="{{ student.address }}">
                </div>

                <div class="form-group">
                    <label for="phone">Số điện thoại</label>
                    <input type="tel" id="phone" name="phone" value="{{ student.phone }}" 
                           pattern="[0-9]{10}" title="Vui lòng nhập số điện thoại 10 số">
                </div>
            </div>

            <div class="form-section">
                <h3>Thông tin phụ huynh</h3>
                
                <div class="form-group">
                    <label for="father_name">Họ tên bố</label>
                    <input type="text" id="father_name" name="father_name" value="{{ student.father_name }}">
                </div>

                <div class="form-group">
                    <label for="father_phone">Số điện thoại bố</label>
                    <input type="tel" id="father_phone" name="father_phone" value="{{ student.father_phone }}"
                           pattern="[0-9]{10}" title="Vui lòng nhập số điện thoại 10 số">
                </div>

                <div class="form-group">
                    <label for="mother_name">Họ tên mẹ</label>
                    <input type="text" id="mother_name" name="mother_name" value="{{ student.mother_name }}">
                </div>

                <div class="form-group">
                    <label for="mother_phone">Số điện thoại mẹ</label>
                    <input type="tel" id="mother_phone" name="mother_phone" value="{{ student.mother_phone }}"
                           pattern="[0-9]{10}" title="Vui lòng nhập số điện thoại 10 số">
                </div>
            </div>
        </div>

        <div class="form-actions">
            <a href="{{ url_for('student_detail', id=student.id) }}" class="btn-cancel">Hủy</a>
            <button type="submit" class="btn-save">Lưu thay đổi</button>
        </div>
    </form>
</div>
{% endblock %} 